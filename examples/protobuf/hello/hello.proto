syntax = "proto3";

package api.v1.hello;

option go_package = "github.com/asjard/asjard/examples/protobuf/hello;hello";

import "github.com/asjard/protobuf/http.proto";

service Hello {
    // say something
    rpc Say(SayReq) returns (SayReq) {
        option (asjard.api.http) = {
            get : "/v1"
        };
        option (asjard.api.http) = {
            post : "/v1/region/{region_id}/project/{project_id}/user/{user_id}"
        };
        option (asjard.api.http) = {
            get : "/hello"
        };
    };
    rpc Call(SayReq) returns (SayReq) {
        option (asjard.api.http) = {
            get : "/v2"
        };
        option (asjard.api.http) = {
            post : "/v2/region/{region_id}/project/{project_id}/user/{user_id}"
        };
    };
    // 加解密示例
    rpc CipherExample(CipherExampleReq) returns (CipherExampleResp) {
        option (asjard.api.http) = {
            get : "/v1/examples/cipher"
        };
    };
}

// 加解密示例请求
message CipherExampleReq {}

// 加解密示例返回
message CipherExampleResp {
    string aes_encrypt_value_in_plain_file          = 1;
    string base64_encrypt_value_in_plain_file       = 2;
    string plain_value_in_aes_encrypt_file          = 3;
    string aes_encrypt_value_in_aes_encrypt_file    = 4;
    string base64_encrypt_value_in_aes_encrypt_file = 5;
}

message SayReq {
    string          region_id  = 1;
    string          project_id = 2;
    int64           user_id    = 3;
    repeated string str_list   = 4;
    repeated int64  int_list   = 5;
    SayObj          obj        = 6;
    repeated SayObj objs       = 7;
}

message SayObj {
    int32  field_int = 1;
    string field_str = 2;
}
